# ZZCOLLAB Profile Bundles
# Defines reusable bundles for system libraries and R packages
# Used by --libs and --pkgs flags

#=============================================================================
# SYSTEM LIBRARY BUNDLES (--libs)
#=============================================================================
# These are sets of system dependencies installed via apt-get

library_bundles:
  none:
    description: "No additional system libraries"
    deps: []
    package_manager: "apt-get"
    compatible_bases: ["rocker/r-ver"]
    warning: "Most R packages will fail without system dependencies"

  minimal:
    description: "Essential development libraries"
    deps:
      - git
      - curl
      - wget
    package_manager: "apt-get"
    compatible_bases: ["rocker/*"]
    note: "Dev headers (libcurl4-openssl-dev, libssl-dev, libxml2-dev) in common section"

  modeling:
    description: "Statistical modeling and ML libraries"
    deps:
      - libgsl-dev
    package_manager: "apt-get"
    compatible_bases: ["rocker/*"]
    note: "libxml2-dev, libcurl4-openssl-dev, libssl-dev, build-essential in common; libblas-dev, liblapack-dev, gfortran in rocker/r-ver"

  publishing:
    description: "Publishing and LaTeX libraries"
    deps:
      - pandoc
      - texlive-full
      - libv8-dev
    package_manager: "apt-get"
    compatible_bases: ["rocker/verse", "rocker/*"]
    note: "libxml2-dev, libcurl4-openssl-dev, libssl-dev in common section"

  terminals:
    description: "GUI terminals and fonts (lightweight GUI)"
    deps:
      - xfce4-terminal
      - terminator
      - xterm
      - fonts-jetbrains-mono
      - fonts-firacode
      - fonts-hack
      - fonts-dejavu
      - fonts-liberation
    package_manager: "apt-get"
    compatible_bases: ["rocker/*"]
    note: "Requires X11 forwarding (XQuartz on macOS). Includes Nerd Fonts."

  gui:
    description: "X11 GUI support for graphical applications"
    deps:
      - xorg
      - x11-apps
      - xauth
      - libx11-dev
      - libxt-dev
      - libcairo2-dev
      - libgl1-mesa-dev
      - libglu1-mesa-dev
      - fonts-dejavu
      - fonts-liberation
      - firefox
      - gedit
    package_manager: "apt-get"
    compatible_bases: ["rocker/*"]
    note: "Requires X11 forwarding from host (XQuartz on macOS, X11 on Linux)"

#=============================================================================
# R PACKAGE BUNDLES (--pkgs)
#=============================================================================
# These are sets of R packages installed via install.packages()

package_bundles:
  minimal:
    description: "Minimal essential packages for development"
    packages:
      - renv
      - devtools
      - usethis
      - testthat
      - roxygen2
    requires_libs: ["minimal"]

  tidyverse:
    description: "Tidyverse ecosystem for data analysis"
    packages:
      - renv
      - devtools
      - tidyverse
      - here
    requires_libs: ["minimal"]

  modeling:
    description: "Machine learning and statistical modeling"
    packages:
      - renv
      - devtools
      - tidyverse
      - tidymodels
      - xgboost
      - randomForest
      - glmnet
      - caret
    requires_libs: ["minimal", "modeling"]

  publishing:
    description: "Document publishing and visualization"
    packages:
      - renv
      - devtools
      - quarto
      - bookdown
      - blogdown
      - distill
      - flexdashboard
      - DT
    requires_libs: ["minimal", "publishing"]

  shiny:
    description: "Shiny web applications"
    packages:
      - renv
      - devtools
      - shiny
      - shinydashboard
      - shinyWidgets
      - DT
      - plotly
      - bslib
    requires_libs: ["minimal"]

  gui:
    description: "GUI applications and interactive graphics"
    packages:
      - renv
      - devtools
      - tidyverse
      - rgl
      - plotly
      - shiny
      - Cairo
      - svglite
    requires_libs: ["gui"]

#=============================================================================
# COMPLETE PROFILES (--profile-name)
#=============================================================================
# Predefined combinations of base-image + libs + pkgs
# Run 'zzc help profiles' for descriptions

profiles:
  minimal:
    description: "Minimal development environment (command-line only)"
    base_image: "rocker/r-ver"
    libs: minimal
    pkgs: minimal
    size: "~650MB"

  rstudio:
    description: "RStudio Server development environment"
    base_image: "rocker/rstudio"
    libs: minimal
    pkgs: minimal
    size: "~980MB"

  analysis:
    description: "Data analysis with tidyverse"
    base_image: "rocker/tidyverse"
    libs: minimal
    pkgs: tidyverse
    size: "~1.2GB"

  analysis_pdf:
    description: "Data analysis with PDF rendering (tinytex + pandoc)"
    base_image: "rocker/tidyverse"
    libs: minimal
    pkgs: tidyverse
    extras:
      - tinytex
      - pandoc
    size: "~1.5GB"
    note: "Lighter than publishing profile; uses tinytex instead of texlive-full"

  modeling:
    description: "Machine learning environment"
    base_image: "rocker/r-ver"
    libs: modeling
    pkgs: modeling
    size: "~1.5GB"

  publishing:
    description: "Document publishing with LaTeX and Quarto"
    base_image: "rocker/verse"
    libs: publishing
    pkgs: publishing
    size: "~3GB"

  shiny:
    description: "Shiny web applications"
    base_image: "rocker/shiny"
    libs: minimal
    pkgs: shiny
    size: "~1.8GB"
