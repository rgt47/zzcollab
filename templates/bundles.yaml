# ZZCOLLAB Profile Bundles
# Defines reusable bundles for system libraries and R packages
# Used by --libs and --pkgs flags

#=============================================================================
# SYSTEM LIBRARY BUNDLES (--libs)
#=============================================================================
# These are sets of system dependencies installed via apt-get

library_bundles:
  none:
    description: "No additional system libraries"
    deps: []
    package_manager: "apt-get"
    compatible_bases: ["rocker/r-ver"]
    warning: "Most R packages will fail without system dependencies"

  minimal:
    description: "Essential development libraries"
    deps:
      - git
      - curl
      - wget
    package_manager: "apt-get"
    compatible_bases: ["rocker/*"]
    note: "Dev headers (libcurl4-openssl-dev, libssl-dev, libxml2-dev) in common section"

  modeling:
    description: "Statistical modeling and ML libraries"
    deps:
      - libgsl-dev
    package_manager: "apt-get"
    compatible_bases: ["rocker/*"]
    note: "libxml2-dev, libcurl4-openssl-dev, libssl-dev, build-essential in common; libblas-dev, liblapack-dev, gfortran in rocker/r-ver"

  publishing:
    description: "Publishing and LaTeX libraries"
    deps:
      - pandoc
      - texlive-full
      - libv8-dev
    package_manager: "apt-get"
    compatible_bases: ["rocker/verse", "rocker/*"]
    note: "libxml2-dev, libcurl4-openssl-dev, libssl-dev in common section"

  terminals:
    description: "GUI terminals and fonts (lightweight GUI)"
    deps:
      - xfce4-terminal
      - terminator
      - xterm
      - fonts-jetbrains-mono
      - fonts-firacode
      - fonts-hack
      - fonts-dejavu
      - fonts-liberation
    package_manager: "apt-get"
    compatible_bases: ["rocker/*"]
    note: "Requires X11 forwarding (XQuartz on macOS). Includes Nerd Fonts."

  gui:
    description: "X11 GUI support for graphical applications"
    deps:
      - xorg
      - x11-apps
      - xauth
      - libx11-dev
      - libxt-dev
      - libcairo2-dev
      - libgl1-mesa-dev
      - libglu1-mesa-dev
      - fonts-dejavu
      - fonts-liberation
      - firefox
      - gedit
    package_manager: "apt-get"
    compatible_bases: ["rocker/*"]
    note: "Requires X11 forwarding from host (XQuartz on macOS, X11 on Linux)"

#=============================================================================
# R PACKAGE BUNDLES (--pkgs)
#=============================================================================
# These are sets of R packages installed via install.packages()

package_bundles:
  minimal:
    description: "Minimal essential packages for development"
    packages:
      - renv
      - devtools
      - usethis
      - testthat
      - roxygen2
    requires_libs: ["minimal"]

  tidyverse:
    description: "Tidyverse ecosystem for data analysis"
    packages:
      - renv
      - devtools
      - tidyverse
      - here
      - janitor
      - scales
      - patchwork
    requires_libs: ["minimal"]

  modeling:
    description: "Machine learning and statistical modeling"
    packages:
      - renv
      - devtools
      - tidyverse
      - tidymodels
      - xgboost
      - randomForest
      - glmnet
      - caret
    requires_libs: ["minimal", "modeling"]

  publishing:
    description: "Document publishing and visualization"
    packages:
      - renv
      - devtools
      - quarto
      - bookdown
      - blogdown
      - distill
      - flexdashboard
      - DT
    requires_libs: ["minimal", "publishing"]

  shiny:
    description: "Shiny web applications"
    packages:
      - renv
      - devtools
      - shiny
      - shinydashboard
      - shinyWidgets
      - DT
      - plotly
      - bslib
    requires_libs: ["minimal"]

  gui:
    description: "GUI applications and interactive graphics"
    packages:
      - renv
      - devtools
      - tidyverse
      - rgl
      - plotly
      - shiny
      - Cairo
      - svglite
    requires_libs: ["gui"]

#=============================================================================
# COMPLETE PROFILES (--profile-name)
#=============================================================================
# Predefined combinations of base-image + libs + pkgs

profiles:
  minimal:
    description: "Minimal development environment (command-line only)"
    base_image: "rocker/r-ver"
    libs: minimal
    pkgs: minimal
    size: "~650MB"
    note: "No GUI terminals, no fonts. Pure command-line: vim, zsh, git."

  minimal-gui:
    description: "Minimal with GUI terminals and fonts"
    base_image: "rocker/r-ver"
    libs: terminals
    pkgs: minimal
    size: "~720MB"
    note: "Adds GUI terminals (xfce4-terminal, terminator, xterm) + Nerd Fonts"

  rstudio:
    description: "RStudio Server development environment"
    base_image: "rocker/rstudio"
    libs: minimal
    pkgs: minimal
    size: "~980MB"

  analysis:
    description: "Data analysis with tidyverse"
    base_image: "rocker/tidyverse"
    libs: minimal
    pkgs: tidyverse
    size: "~1.18GB"

  modeling:
    description: "Machine learning environment"
    base_image: "rocker/r-ver"
    libs: modeling
    pkgs: modeling
    size: "~1.48GB"

  publishing:
    description: "Document publishing with LaTeX"
    base_image: "rocker/verse"
    libs: publishing
    pkgs: publishing
    size: "~3GB"

  gui:
    description: "GUI applications with X11 forwarding"
    base_image: "rocker/rstudio"
    libs: gui
    pkgs: gui
    size: "~2.2GB"
    note: "Requires XQuartz (macOS) or X11 (Linux) for display forwarding"
    usage: "make r  # Launch interactive shell"

  gui_minimal:
    description: "Minimal R environment with GUI/X11 support"
    base_image: "rocker/r-ver"
    libs: gui
    pkgs: minimal
    size: "~1.5GB"
    note: "GUI apps (kitty, firefox) with minimal R packages"

  gui_analysis:
    description: "Data analysis with tidyverse and GUI support"
    base_image: "rocker/tidyverse"
    libs: gui
    pkgs: tidyverse
    size: "~2.5GB"
    note: "Full analysis stack with GUI applications"

  gui_rstudio:
    description: "RStudio Server with GUI support for desktop apps"
    base_image: "rocker/rstudio"
    libs: gui
    pkgs: minimal
    size: "~2GB"
    note: "RStudio Server + GUI apps (kitty, firefox) via X11"

  ubuntu_standard_minimal:
    description: "Minimal Ubuntu environment with essential R packages"
    base_image: "rocker/r-ver"
    libs: minimal
    pkgs: minimal
    size: "~800MB"
    note: "Add RStudio: docker run -e ADD=rstudio -e PASSWORD=pass"

  ubuntu_standard_analysis:
    description: "Data analysis with tidyverse + modeling packages"
    base_image: "rocker/tidyverse"
    libs: modeling
    pkgs: modeling
    size: "~1.5GB"
    note: "Tidyverse + ML packages. Add RStudio: docker run -e ADD=rstudio"

  ubuntu_standard_analysis_vim:
    description: "Data analysis with tidyverse and R language server"
    base_image: "rocker/tidyverse"
    libs: minimal
    pkgs: tidyverse
    size: "~1.8GB"
    note: "Includes languageserver for LSP. No X11 - use kitty icat or httpgd for graphics."

  ubuntu_standard_publishing:
    description: "Document publishing with LaTeX, Quarto, and web tools"
    base_image: "rocker/verse"
    libs: publishing
    pkgs: publishing
    size: "~3GB"
    note: "Full LaTeX + Quarto publishing stack"

  ubuntu_shiny_minimal:
    description: "Shiny Server with minimal packages"
    base_image: "rocker/shiny"
    libs: minimal
    pkgs: shiny
    size: "~1.8GB"
    note: "Shiny Server on port 3838"

  ubuntu_shiny_analysis:
    description: "Shiny Server with tidyverse and publishing capabilities"
    base_image: "rocker/shiny-verse"
    libs: minimal
    pkgs: shiny
    size: "~3.5GB"
    note: "Full-featured Shiny with tidyverse"

  ubuntu_x11_minimal:
    description: "Minimal R with X11 support for graphics viewing"
    base_image: "rocker/r-ver"
    libs: gui
    pkgs: minimal
    size: "~1.5GB"
    note: "Requires XQuartz (macOS) or X11 (Linux). Use 'docker run -e DISPLAY'"

  ubuntu_x11_analysis:
    description: "Data analysis with tidyverse and X11 support"
    base_image: "rocker/tidyverse"
    libs: gui
    pkgs: gui
    size: "~2.5GB"
    note: "Full analysis stack with interactive graphics and X11"

  ubuntu_x11_analysis_vim:
    description: "Data analysis with tidyverse, X11, and R language server"
    base_image: "rocker/tidyverse"
    libs: gui
    pkgs: gui
    size: "~2.2GB"
    note: "Includes languageserver for R LSP integration (editor runs on host)."
